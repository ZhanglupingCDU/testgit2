
# 实验2：图书管理系统用例建模
|学号|班级|姓名|
|:-------:|:-------------: | :----------:|
|201710414427|软件(本)17-4|张露平|

## 1. 图书管理系统的用例关系图

### 1.1 用例图PlantUML源码如下：

``` usecase
@startuml
:图书管理员 : as Admin
:读者: as Reader

Admin -up->(借出图书)
Admin ->(归还图书)
Admin -up->(维护书目)
Admin -->(维护读者信息)
(归还图书)<..(逾期罚款):<<extend>>

Reader-up->(登录)
Reader-up->(查询借阅情况)
Reader-left->(预定图书)
Reader-->(查询书目)
Reader->(取消预定)
(预定图书)..>(查询书目):<<include>>
(取消预定)..>(查询书目):<<include>>

@enduml
```


### 1.2. 用例图如下：
![usecase](UseCase.png)

## 2. 参与者说明：

###     2.1 图书管理员

主要职责是：
- 图书管理员应严格执行图书管理的规章制度。
 
- 图书管理员要树立为职工服务的思想、钻研业务，掌握图书管理业务的基本技能，制定和执行书屋的管理工作。
 
- 具有完善的出版物进出登记台账，做好读者的图书出借和阅读工作，不断改进工作方法，简化借阅手续，提高图书流通率。
 
- 有计划、有原则地选购图书，订阅期刊，及时添购新书籍，书柜，保证图书经费的合理使用。
 
- 按照图书编目的要求，对藏书分类编目，新买的书刊及时分编上架，投入流通，不无故积压。
 
- 经常宣传新书内容，开展读书活动，做好书刊鉴别工作，严禁内容不健康的书刊出借和阅览。
 
- 爱护图书财产，定期查库账物要清，经常保持图书馆、阅鉴室和资料整洁通风，做好防虫、防潮、防灾、防盗等安全保护工作。
 
- 定期做好报纸、杂志的装订和保管工作，及时修补损坏的书籍杂志。
 
- 对读者做好爱护图书和遵守阅览室制度的宣传教育工作，并建立培养一支读者管理图书的服务队伍。
 
- 认真做好防盗、防火、防潮、防虫工作，搞好书库、借书室、阅览室的清洁卫生工作

###     2.2 读者

主要职责是：
- 读者主要职责是按照图书馆相关要求进行图书的查阅、借阅和归还等
- 必须遵守图书馆对每个读者的借阅情况的要求，不得借阅超出数量的图书
- 和图书管理员一起，维护图书馆的安全，卫生等
- 在归还期内归还图书，如果逾期请及时联系图书管理员
- 在图书馆中不得大声喧哗，不能打扰其他读者
- 如果查看的图书不借出，那将查看的图书放到指定的放书位置，不私藏、不损坏等


##     3. 用例规约表

###     3.1 “借出图书”用例

|用例名称|借出图书|
|:-------:|:----------- |
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理员已被识别和授权|
|后置条件|存储借书记录、更新库存数量、所借图书状态为借出|
|主事件流|1.图书管理员将读者借书卡提供给系统；<br>2.系统验证读者身份和借书条件<br>3.图书管理员将读者所借图书输入系统；<br>4.系统记录借书信息，并且修改图书的状态和此种书的可借数量;<br>5.系统累加读者的借书数量;<br>6.重复3~5，直到图书管理员确认全部图书登记完毕；<br>7.系统打印借书清单，交易成功完成|
|备选事件流|2a.非法读者<br>&emsp; 1.系统提示错误并拒绝接受输入<br>2b.读者借书数已达限额<br>&emsp; 1.系统提示错误并拒绝接受输入<br>5a.读者借书数已达限额<br>&emsp; 1.系统提示，并要求借书输入<br>&emsp; 2.图书管理员确认借书完成<br>5b.读者有该书的预定记录<br>&emsp; 1.删除该书的预定信息|
|备注|图书馆开架借阅，读者找到书后办理借书手续，因此借书不需要验证库存，而且每本书都是可识别的|



###     3.2 “归还图书”用例


|用例名称|归还图书|
|:-------:|:----------- |
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理员已被识别和授权|
|后置条件|修改借书记录、更新库存数量、修改图书状态为可借|
|主事件流|1.图书管理员将图书信息提供给系统<br>2.系统根据借书记录验证图书信息；<br>3.系统提供借阅该书的读者信息;<br>4.系统修改借书记录，更新该书的状态及此时的可借数量;<br>5.图书管理员重复步骤1，直至归还所以图书，并退出系统|
|备选事件流|1a.提供的图书信息不是此图书馆的图书<br>&emsp;1.系统提示图书信息不正确，无法进行图书的归还，重新输入信息<br>1b.提供的图书信息有误<br>&emsp;1.系统提示信息不正确，重新输入<br>2a.无借书记录<br>&emsp;1.系统提示该图书无任何借书记录，无法归还，退出系统<br>|
|备注|必须在归还期内归还图书，如果要逾期归还一定先和图书管理员报备相关信息|

###     3.3 “维护书目”用例

|用例名称|维护书目|
|:-------:|:----------- |
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理员已被识别和授权|
|后置条件|维护书目成功|
|主事件流|1.图书管理员登录图书馆系统;<br>2.图书管理员根据需求选择需要维护的图书;<br>3.系统根据管理员的选择显示该图书的相关信息;<br>4.图书管理员根据系统提供的信息对图书进行上架、下架、添加、换新等相关维护工作;<br>5.重复步骤2~4，直至所有需要维护的图书维护完毕，退出系统|
|备选事件流|1a.登录系统出现异常（密码错误，验证码错误，网络故障等原因）<br>&emsp;1.系统提示登录失败，显示相关原因，重新输入<br>1b.图书馆停电或者图书馆系统不可用<br>&emsp;1.图书管理员可以巡查图书馆的每个位置，维护现在必要维护的图书<br>2a.需要维护的图书在系统中查询失败<br>&emsp;1.图书管理员应该判断该图书是否已经录入系统或者图书信息是否更新等<br>|
|备注|图书维护不只是图书管理员的职责，也是我们每个读者的职责，所以我们应该一起维护图书|

###     3.4 “维护读者信息”用例

|用例名称|维护读者信息|
|:-------:|:----------- |
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理员已被识别和授权|
|后置条件|维护读者信息成功|
|主事件流|1.图书管理员登录系统;<br>2.图书馆管理员进入读者管理页面;<br>3.管理员输入要维护的读者的相关信息;<br>4.系统根据管理员输入的信息查询数据库<br>5.系统页面显示出该读者的相关信息;<br>6.管理员点击修改信息或者维护按钮;<br>7.管理员对读者信息进行维护,完成后并确认;<br>8.系统更新数据库信息，保存该读者的新信息<br>9.重复步骤3~8，直到所有需要维护的读者的信息维护完成，退出系统|
|备选事件流|1a.登录系统出现异常（密码错误，验证码错误，网络故障等原因）<br>&emsp;1.系统提示登录失败，显示相关原因，重新输入<br>3a.管理员输入的读者信息有误<br>&emsp;1.系统提示信息错误，重新输入<br>4a.数据库服务器出现故障<br>&emsp;1.系统提示读者信息查询失败，数据库出故障<br>4b.数据库中没有该读者的相关信息<br>&emsp;1.系统提示无该读者的相关信息，直接回到步骤3<br>7a.系统未能及时修改或者维护读者信息<br>&emsp;1.系统提示维护或者修改失败，请重试<br>7b.维护或者修改成功<br>&emsp;1.系统提示成功|
|备注|读者可以登录自己的账号可以维护自己的一些简单的信息，但是例如账号等一些属性信息读者个人不可修改|

###     3.5 “逾期罚款”用例

|用例名称|逾期罚款|
|:-------:|:----------- |
|参与者|图书管理员（主要参与者），读者（次要参与者）|
|前置条件|图书管理员登录系统对读者进行罚款，并更新图书信息|
|后置条件|处罚成功、系统更新图书信息为可借|
|主事件流|1.图书管理员进入图书馆系统;<br>2.管理员打开借还书界面;<br>3.管理员扫描该图书信息并输入图书信息;<br>4.图书管理员将读者的信息输入系统;<br>5.图书管理员点击还书按钮，并确定;<br>6.系统检测读者信息图书信息，确认是否可以进行还书操作;<br>7.系统进行对读者进行逾期罚款操作;<br>8.系统进行还书操作，更新库存信息;<br>9.系统提示还书成功|
|备选事件流|3a.系统读入图书信息时错误<br>&emsp;1.系统提示图书信息错误，重新输入<br>3b.系统读入图书信息后检测到该图书未被借出<br>&emsp;1.系统显示该图书不能进行还书操作<br>7a.系统检测到读者卡内余额不足或者未能支付成功<br>&emsp;1.系统提示卡内余额不足或者未能正常进行罚款<br>7b.逾期罚款操作时出现系统故障，例如网络故障，数据库服务器故障<br>&emsp;1.系统提示系统页面异常，扣费失败<br>8a.还书操作时出现系统故障，例如网络故障，数据库服务器故障<br>&emsp;1.系统提示系统页面异常，还书失败|
|备注|逾期还书可能会对自己的信用造成影响，所以尽量不逾期还书|

###     3.6“查询借阅情况”用例
|用例名称|查询借阅情况|
|:-------:|:----------- |
|参与者|图书管理员（次要参与者），读者（主要参与者）|
|前置条件|读者拥有此图书馆的账号以及相关信息，读者借阅了图书|
|后置条件|查询借阅情况成功|
|主事件流|1.读者登录到图书馆系统;<br>2.进入图书借阅情况查询页面;<br>3.系统页面显示该读者借阅的所有图书信息;<br>4.读者选择需要详细查询的图书，并点击;<br>5.系统页面显示读者选择的图书的具体信息，以及最迟应该归还的日期等;<br>6.读者进行自己需要的信息的查询，直至退出信息|
|备选事件流|1a.读者为拥有该图书馆账号<br>&emsp;1.系统提示用户名不正确，建议注册账号后登陆<br>1b.用户输入的用户名或密码或验证码不正确<br>&emsp;1.系统提示登录失败，用户名、密码或者验证码不正确，重新输入<br>3a.该读者未在图书馆借阅过任何图书<br>&emsp;1.系统提示读者未找有关你的借阅情况<br>5a.页面出现网络故障，未能正常显示页面信息<br>&emsp;1.系统显示超时或网络不加，重新刷新页面|
|备注|读者可以在系统进行自己借阅历史的查询，方便查询以前借阅过的图书|

###     3.7 “预定图书”用例
|用例名称|预定图书|
|:-------:|:----------- |
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书馆缺少该图书|
|后置条件|读者预定成功|
|主事件流|1.图书管理员选择“预定登记",提交”预定登记"请求;<br>2.系统显示“预定登记”空白窗口;<br>3.读者输入预定登记信息;<br>4.系统列表显示出该读者想要预定的图书信息;<br>5.读者选择预定的图书|
|备选事件流|3a.输入的预定信息错误<br>&emsp;1.系统提示输入错误，重新输入<br>3b.输入的信息所对应的图书不存在<br>&emsp;1.系统提示该图书不存在，输入其他图书信息<br>5a.选择的预定图书如果被其他读者预定了<br>&emsp;1.系统提示读者该图书已被预定，预定失败|
|备注|图书馆存在该图书，但是读者暂时不能到达图书馆，无法的到该图书，此时读者可以联系图书管理员，提供相关信息，帮忙预定|
###     3.8 “查询书目”用例

|用例名称|查询书目|
|:-------:|:----------- |
|参与者|图书管理员（次要参与者）、读者（主要参与者）|
|前置条件|图书馆存在该图书|
|后置条件|读者查询成功|
|主事件流|1.读者找到相关查询图书的设备或者指示标志<br>2.输入要查询图书的相关信息<br>3.系统根据读者输入的图书信息显示符合此信息的所有图书;<br>4.读者找到自己需要查询的具体图书;<br>5.选择该图书<br>6.系统显示该图书的具体信息以及该图书馆放置该图书的具体位置|
|备选事件流|1a.图书馆馆未找到相关查询图书的设备和标志<br>&emsp;1.咨询图书管理员，进行相关咨询<br>2a.输入的图书信息有误<br>&emsp;1.系统提示信息输入有误，重新输入<br>3a.读者输入的信息所对应的图书已被其他读者借走<br>&emsp;1.系统提示图书已被借阅，让读者查询其他图书<br>5a.选择图书失败<br>&emsp;1.系统提示选择失败|
|备注|可以通过图书馆的官方网站进行图书信息的查询，方便找到要查询图书的具体位置|

###     3.9“取消预定”用例

|用例名称|取消预定|
|:-------:|:----------- |
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理员已被识别和授权，读者进行过图书预定|
|后置条件|修改图书预定记录、修改图书预定状态为可预定、读者取消预定成功|
|主事件流|1.图书管理员选择“取消预定登记”，提交“取消预定登记”请求；<br>2.系统显示“取消预定登记"窗口;<br>3.读者输入预定登记信息；<br>4.系统列表显示出该读者预订图书信息;<br>5.读者选取取消预定;<br>6.系统更新该图书的预定状态|
|备选事件流|1a.没有预定的图书<br>&emsp;1.系统提示现在无任何图书预定信息<br>3a.读者输入的预定登记信息错误<br>&emsp;1.系统提示读者输入错误，重新输入;<br>&emsp;2.如果输入次数达到上限，则结束流程不能执行之后的操作<br>5a.读者没有进行预订但想取消预订<br>&emsp;1.系统提示读者取消失败<br>5b.读者之前预订过该图书<br>&emsp;1.系统提示取消成功|
|备注||

###     3.10“登录”用例

|用例名称|登录|
|:-------:|:----------- |
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理或读者输入自己正确的用户名和密码和相关验证信息点击登录|
|后置条件|登录成功|
|主事件流|1.读者或者图书管理员（以下称用户），进入登录界面<br>2.用户根据提示输入自己的用户名和密码以及相关的验证信息；<br>3.系统根据用户输入的用户名、密码和验证信息查询数据库判断是否正确；<br>4.进去登录后的相关页面或操作|
|备选事件流|1a.用户没有此图书馆的账号和密码<br>&emsp;1.用户根据相关提示信息进行注册账号<br>2a.用户输入的信息的类型有误<br>&emsp;1.系统提示用户输入不符合规范,重新输入<br>3a.用户输入的用户名在数据库找不到<br>&emsp;1.系统提示用户该用户不存在，并返回到1a<br>3b.密码或验证码不正确<br>&emsp;1.系统提示密码或验证码错误，重新输入<br>3c.用户名、密码、验证码都正确<br>&emsp;1.进入步骤4|
|备注|没有登录到该图书馆系统，也可以查看该图书馆有关的相关信息，无法进行预定、管理等操作

